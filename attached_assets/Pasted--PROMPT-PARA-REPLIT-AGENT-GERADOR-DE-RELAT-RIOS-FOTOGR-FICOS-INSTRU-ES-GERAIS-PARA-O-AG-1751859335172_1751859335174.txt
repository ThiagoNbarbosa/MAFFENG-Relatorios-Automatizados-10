# PROMPT PARA REPLIT AGENT - GERADOR DE RELATÃ“RIOS FOTOGRÃFICOS

## ğŸ¯ INSTRUÃ‡Ã•ES GERAIS PARA O AGENTE

**IMPORTANTE**: Este usuÃ¡rio Ã© LOW CODE/NO CODE. Explique cada passo, seja detalhado nas instruÃ§Ãµes e crie cÃ³digo bem comentado e documentado.

## ğŸ“‹ MISSÃƒO PRINCIPAL

Crie um aplicativo web Flask completo para automatizar a geraÃ§Ã£o de relatÃ³rios fotogrÃ¡ficos profissionais da empresa MAFFENG. O sistema deve permitir upload de arquivos ZIP com fotos organizadas em pastas e gerar documentos Word estruturados.

## ğŸ—ï¸ ESTRUTURA DO PROJETO

Crie esta estrutura de pastas exatamente assim:

```
gerador-relatorios/
â”œâ”€â”€ app.py                 # Servidor Flask principal
â”œâ”€â”€ word_utils.py          # FunÃ§Ãµes para manipular Word
â”œâ”€â”€ requirements.txt       # DependÃªncias do projeto
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ base.html         # Template base
â”‚   â”œâ”€â”€ index.html        # PÃ¡gina principal
â”‚   â””â”€â”€ success.html      # PÃ¡gina de sucesso
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css     # Estilos customizados
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â””â”€â”€ main.js       # JavaScript
â”‚   â””â”€â”€ images/
â”‚       â””â”€â”€ logo.png      # Logo da empresa
â”œâ”€â”€ uploads/              # Pasta para arquivos temporÃ¡rios
â”œâ”€â”€ models/               # Templates Word
â”‚   â””â”€â”€ modelo_base.docx  # Template base
â””â”€â”€ output/               # RelatÃ³rios gerados
```

## ğŸ”§ FUNCIONALIDADES OBRIGATÃ“RIAS

### 1. INTERFACE WEB (templates/index.html)
Crie um formulÃ¡rio dividido em 4 seÃ§Ãµes com estes campos EXATOS:

**SeÃ§Ã£o 1: InformaÃ§Ãµes do Projeto**
- Nome do Projeto (text input)
- NÃºmero do Contrato (text input)
- Ordem de ServiÃ§o (text input)
- Data de ElaboraÃ§Ã£o (date input)

**SeÃ§Ã£o 2: InformaÃ§Ãµes da DependÃªncia**
- Prefixo da AgÃªncia (text input)
- Nome da DependÃªncia (text input)
- EndereÃ§o Completo (textarea)
- UF (select com todos os estados)
- Tipo de Atendimento (select: "Preventivo", "Corretivo", "Emergencial")

**SeÃ§Ã£o 3: ResponsÃ¡veis**
- ResponsÃ¡vel da DependÃªncia (text input)
- ResponsÃ¡vel TÃ©cnico (text input)

**SeÃ§Ã£o 4: Arquivos**
- SeleÃ§Ã£o de Modelo (select com opÃ§Ãµes dos modelos disponÃ­veis)
- Upload de ZIP (file input que aceita apenas .zip)

### 2. DESIGN OBRIGATÃ“RIO
- Use Tailwind CSS (inclua via CDN)
- Tema escuro com gradiente
- Elementos glassmorphism (transparÃªncia)
- Responsivo para mobile
- AnimaÃ§Ãµes suaves
- Feedback visual durante upload

### 3. PROCESSAMENTO DE ARQUIVOS (word_utils.py)
Implemente estas funÃ§Ãµes OBRIGATÃ“RIAS:

```python
def processar_zip(zip_path, dados_formulario):
    """
    Descompacta ZIP e organiza estrutura de pastas
    Retorna lista de conteÃºdo estruturado
    """
    
def inserir_conteudo_word(modelo_path, conteudo, placeholders, output_path):
    """
    Substitui placeholders no Word e insere imagens
    Retorna nÃºmero de imagens inseridas
    """
    
def substituir_placeholders(doc, dados):
    """
    Substitui os 13 placeholders mapeados no documento
    """
```

### 4. PLACEHOLDERS OBRIGATÃ“RIOS
Substitua EXATAMENTE estes placeholders no documento Word:

```python
PLACEHOLDERS = {
    '{{prefixo_sb}}': 'prefixo_agencia',
    '{{nome_dependencia}}': 'nome_dependencia', 
    '{{uf}}': 'uf',
    '{{numero_contrato}}': 'numero_contrato',
    '{{ordem_servico}}': 'ordem_servico',
    '{{data_elaboracao}}': 'data_elaboracao',
    '{{tipo_atendimento}}': 'tipo_atendimento',
    '{{data_atendimento}}': 'data_elaboracao',  # Mesmo que elaboraÃ§Ã£o
    '{{endereco_dependencia}}': 'endereco_completo',
    '{{responsavel_dependencia}}': 'responsavel_dependencia',
    '{{responsavel_tecnico}}': 'responsavel_tecnico',
    '{{elaborado_por}}': 'Ygor Augusto Fernandes',  # FIXO
    '{{empresa}}': 'MAFFENG - Engenharia e ManutenÃ§Ã£o Profissional'  # FIXO
}
```

### 5. ORDEM DE PASTAS OBRIGATÃ“RIA
As pastas devem ser processadas nesta ordem EXATA:

```python
ORDEM_PASTAS = [
    "- Ãrea externa", 
    "- Ãrea interna", 
    "- Segundo piso",
    "- Detalhes",
    "- Vista ampla"
]
```

### 6. ROTAS FLASK OBRIGATÃ“RIAS

```python
@app.route('/')
def index():
    # PÃ¡gina principal com formulÃ¡rio

@app.route('/upload', methods=['POST'])
def processar_upload():
    # Processa formulÃ¡rio e ZIP
    # Gera relatÃ³rio Word
    # Retorna arquivo para download

@app.route('/download/<filename>')
def download_file(filename):
    # Download do relatÃ³rio gerado
```

## ğŸ¨ INSTRUÃ‡Ã•ES DE DESIGN

### CSS (static/css/style.css)
- Gradient escuro de fundo
- Cards com glassmorphism
- AnimaÃ§Ãµes hover
- Inputs estilizados
- BotÃµes com efeitos

### JavaScript (static/js/main.js)
- ValidaÃ§Ã£o de formulÃ¡rio
- Feedback visual de upload
- Barra de progresso
- NotificaÃ§Ãµes de sucesso/erro

## ğŸ“¦ DEPENDÃŠNCIAS OBRIGATÃ“RIAS (requirements.txt)

```
Flask==2.3.3
python-docx==0.8.11
Pillow==10.0.1
Werkzeug==2.3.7
```

## ğŸ” PROCESSAMENTO DE IMAGENS

### Regras OBRIGATÃ“RIAS:
1. Aceitar apenas PNG, JPG, JPEG
2. Redimensionar proporcionalmente (altura fixa 10cm)
3. Centralizar imagens no documento
4. Ordenar por data de criaÃ§Ã£o
5. Inserir quebras de pÃ¡gina entre seÃ§Ãµes

### Hierarquia de TÃ­tulos:
- NÃ­vel 0: Heading 1 (pastas principais)
- NÃ­vel 1: Heading 2 (subpastas)
- NÃ­vel 2: Heading 3 (sub-subpastas)
- Pastas especiais ("Detalhes", "Vista ampla"): Texto normal em negrito

## ğŸš¨ TRATAMENTO DE ERROS OBRIGATÃ“RIO

Implemente tratamento para:
- ZIP corrompido ou invÃ¡lido
- Imagens corrompidas
- Campos obrigatÃ³rios nÃ£o preenchidos
- Erro na geraÃ§Ã£o do Word
- Arquivo muito grande

## ğŸ¯ FLUXO DE FUNCIONAMENTO

1. **UsuÃ¡rio acessa a pÃ¡gina** â†’ Mostra formulÃ¡rio
2. **Preenche dados** â†’ Valida em tempo real
3. **Seleciona modelo** â†’ Carrega opÃ§Ãµes disponÃ­veis
4. **Faz upload do ZIP** â†’ Mostra progresso
5. **Clica em "Gerar RelatÃ³rio"** â†’ Processa em background
6. **Sistema processa** â†’ Feedback visual
7. **RelatÃ³rio pronto** â†’ Download automÃ¡tico

## ğŸª INSTRUÃ‡Ã•ES ESPECÃFICAS PARA O AGENTE

### PASSO 1: CONFIGURAÃ‡ÃƒO INICIAL
- Crie a estrutura de pastas completa
- Configure o arquivo requirements.txt
- Instale as dependÃªncias
- Teste se o Flask roda sem erros

### PASSO 2: CRIAR TEMPLATES HTML
- Comece com base.html (template base)
- Crie index.html com formulÃ¡rio completo
- Adicione Tailwind CSS via CDN
- Teste responsividade

### PASSO 3: IMPLEMENTAR BACKEND
- Crie app.py com rotas bÃ¡sicas
- Implemente word_utils.py
- Teste upload de arquivos
- Valide processamento de ZIP

### PASSO 4: INTEGRAÃ‡ÃƒO
- Conecte frontend com backend
- Adicione validaÃ§Ãµes JavaScript
- Implemente feedback visual
- Teste fluxo completo

### PASSO 5: FINALIZAÃ‡ÃƒO
- Adicione tratamento de erros
- Otimize performance
- Documente cÃ³digo
- Crie arquivo README

## ğŸ¨ EXEMPLO DE TEMPLATE WORD

O template deve conter:
- CabeÃ§alho com logo MAFFENG
- Todos os 13 placeholders
- Marca `{{start_here}}` onde inserir conteÃºdo
- FormataÃ§Ã£o profissional
- RodapÃ© com dados da empresa

## ğŸ”§ CONFIGURAÃ‡Ã•ES IMPORTANTES

### Flask (app.py)
```python
app.config['MAX_CONTENT_LENGTH'] = 100 * 1024 * 1024  # 100MB max
app.config['UPLOAD_FOLDER'] = 'uploads'
app.config['OUTPUT_FOLDER'] = 'output'
```

### ValidaÃ§Ãµes
- ZIP mÃ¡ximo 100MB
- Formatos aceitos: .zip
- Campos obrigatÃ³rios marcados
- ValidaÃ§Ã£o de UF

## ğŸ“± RESPONSIVIDADE

Teste em:
- Desktop (1920x1080)
- Tablet (768x1024)
- Mobile (375x667)

## ğŸ¯ RESULTADO FINAL ESPERADO

Um aplicativo web completo que:
1. âœ… Funciona sem erros
2. âœ… Interface bonita e responsiva
3. âœ… Processa ZIP corretamente
4. âœ… Gera Word formatado
5. âœ… Substitui todos os placeholders
6. âœ… Organiza imagens hierarquicamente
7. âœ… Permite download do relatÃ³rio
8. âœ… Tem tratamento de erros robusto

## ğŸ”¥ DICAS IMPORTANTES PARA O AGENTE

1. **Sempre comente o cÃ³digo** - usuÃ¡rio nÃ£o programa
2. **Teste cada funcionalidade** antes de avanÃ§ar
3. **Use nomes descritivos** para variÃ¡veis e funÃ§Ãµes
4. **Documente todas as funÃ§Ãµes** com docstrings
5. **Crie logs detalhados** para debug
6. **Valide TODOS os inputs** do usuÃ¡rio
7. **Mantenha cÃ³digo limpo** e organizado

## ğŸª EXECUÃ‡ÃƒO NO REPLIT

1. Crie um novo Repl Python
2. Instale dependÃªncias: `pip install -r requirements.txt`
3. Execute: `python app.py`
4. Teste no navegador integrado
5. FaÃ§a upload de um ZIP de teste
6. Verifique se o Word Ã© gerado corretamente

---

**IMPORTANTE**: Este projeto deve funcionar 100% no final. Ã‰ um sistema real para uso profissional da empresa MAFFENG. NÃ£o aceite soluÃ§Ãµes parciais ou placeholders de cÃ³digo!